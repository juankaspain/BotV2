# ═════════════════════════════════════════════════════════════════════
# BotV2 - Environment Variables Template
# Copy this file to .env and fill with your actual values
# ═════════════════════════════════════════════════════════════════════

# USAGE:
# 1. Copy this file: cp .env.example .env
# 2. Fill in your actual values (never commit .env to git)
# 3. Ensure all REQUIRED variables are set before running

# ═════════════════════════════════════════════════════════════════════
# ENVIRONMENT MODES
# ═════════════════════════════════════════════════════════════════════
#
# DEVELOPMENT MODE (ENVIRONMENT=development):
#   - Relaxed validation, only SECRET_KEY required
#   - HTTPS disabled, allows localhost HTTP
#   - Mock data enabled, no real exchange connections
#   - Dashboard credentials: admin/admin or from .env
#
# STAGING MODE (ENVIRONMENT=staging):
#   - Moderate validation
#   - Database + API keys required
#   - HTTPS recommended but not enforced
#
# PRODUCTION MODE (ENVIRONMENT=production):
#   - Strict validation, all secrets required
#   - HTTPS enforced, strong passwords required
#   - All security features enabled
#
# ═════════════════════════════════════════════════════════════════════
# MINIMAL DEVELOPMENT SETUP
# ═════════════════════════════════════════════════════════════════════
# For quick development testing, you only need these variables:
#
#   ENVIRONMENT=development
#   FLASK_ENV=development
#   SECRET_KEY=dev-secret-key-min-16-chars
#   DASHBOARD_USERNAME=admin
#   DASHBOARD_PASSWORD=admin1234
#
# ═════════════════════════════════════════════════════════════════════

# ═════════════════════════════════════════════════════════════════════
# CORE ENVIRONMENT SETTINGS
# ═════════════════════════════════════════════════════════════════════

# System Environment (REQUIRED)
# Values: development | staging | production
ENVIRONMENT=development

# Flask Environment (REQUIRED)
# Values: development | production
# - development: HTTPS disabled, debug mode, relaxed security
# - production: HTTPS enforced, strict security headers
FLASK_ENV=development

# Secret Key for JWT/Sessions (REQUIRED in ALL modes)
# Generate with: python -c "import secrets; print(secrets.token_urlsafe(32))"
# Or: openssl rand -hex 32
# MINIMUM: 16 characters for development, 32 for production
SECRET_KEY=generate_random_32_char_secret_key_here

# Trading Mode (paper, live)
# - paper: Simulated trading, no real funds
# - live: Real trading, funds at risk!
TRADING_MODE=paper

# Demo Mode (true/false)
# When true, uses mock data instead of real exchange connections
DEMO_MODE=true

# Debug Mode
DEBUG=false

# ═════════════════════════════════════════════════════════════════════
# DASHBOARD AUTHENTICATION
# ═════════════════════════════════════════════════════════════════════
# These credentials are used to access the web dashboard
# In development mode, defaults to admin/admin if not set
# In production mode, DASHBOARD_PASSWORD is REQUIRED (min 12 chars)

DASHBOARD_USERNAME=admin
DASHBOARD_PASSWORD=admin1234

# Dashboard Host/Port
DASHBOARD_HOST=0.0.0.0
DASHBOARD_PORT=8050

# ═════════════════════════════════════════════════════════════════════
# DATABASE CONFIGURATION
# ═════════════════════════════════════════════════════════════════════
# REQUIRED in production/staging, OPTIONAL in development

# PostgreSQL Configuration
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DATABASE=botv2
POSTGRES_USER=botv2_user
POSTGRES_PASSWORD=your_secure_password_here_min_8_chars

# Redis Configuration (REQUIRED for rate limiting)
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# ═════════════════════════════════════════════════════════════════════
# EXCHANGE API KEYS
# ═════════════════════════════════════════════════════════════════════
# REQUIRED in production/staging, OPTIONAL in development (uses mock data)

# Polymarket API (REQUIRED for production)
POLYMARKET_API_KEY=your_polymarket_api_key_here
POLYMARKET_API_SECRET=your_polymarket_api_secret_here
POLYMARKET_BASE_URL=https://clob.polymarket.com

# Binance API (OPTIONAL - for crypto trading)
BINANCE_API_KEY=
BINANCE_API_SECRET=
BINANCE_TESTNET=false

# Coinbase Pro API (OPTIONAL)
COINBASE_API_KEY=
COINBASE_API_SECRET=
COINBASE_PASSPHRASE=

# Kraken API (OPTIONAL)
KRAKEN_API_KEY=
KRAKEN_API_SECRET=

# Finst API (PREPARATORY - API not yet available as of January 2026)
FINST_API_KEY=
FINST_API_SECRET=
FINST_TESTNET=false

# ═════════════════════════════════════════════════════════════════════
# NOTIFICATIONS
# ═════════════════════════════════════════════════════════════════════
# All notification services are OPTIONAL

# Telegram Bot (OPTIONAL - for alerts)
TELEGRAM_BOT_TOKEN=
TELEGRAM_CHAT_ID=

# Slack Webhooks (OPTIONAL)
SLACK_WEBHOOK_URL=
SLACK_CHANNEL=#botv2-alerts

# Email Notifications (OPTIONAL - via SMTP)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USE_TLS=true
SMTP_USER=
SMTP_PASSWORD=
SMTP_FROM=noreply@botv2.local
SMTP_TO=alerts@yourdomain.com

# Discord Webhook (OPTIONAL)
DISCORD_WEBHOOK_URL=

# ═════════════════════════════════════════════════════════════════════
# API AUTHENTICATION
# ═════════════════════════════════════════════════════════════════════
# OPTIONAL - Only needed if exposing API externally

API_KEY=your_internal_api_key_here
API_SECRET=your_internal_api_secret_here

# Encryption Key (OPTIONAL - for encrypting sensitive data at rest)
ENCRYPTION_KEY=

# ═════════════════════════════════════════════════════════════════════
# SECURITY FEATURES
# ═════════════════════════════════════════════════════════════════════

# CSRF Protection
CSRF_ENABLED=true
CSRF_TOKEN_LENGTH=32
CSRF_TOKEN_TTL=3600

# XSS Protection
XSS_PROTECTION_ENABLED=true
XSS_STRIP_HTML=false

# Session Management
SESSION_TIMEOUT_MINUTES=30
SESSION_MAX_LIFETIME_HOURS=12
SESSION_ACTIVITY_TIMEOUT_MINUTES=15
SESSION_COOKIE_SECURE=true
SESSION_COOKIE_HTTPONLY=true
SESSION_COOKIE_SAMESITE=Lax

# Rate Limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_STORAGE=redis://localhost:6379
RATE_LIMIT_DEFAULT=10 per minute
RATE_LIMIT_API=30 per minute
RATE_LIMIT_LOGIN=5 per minute

# HTTPS Enforcement (ONLY for production)
# Set to false in development!
FORCE_HTTPS=false
HSTS_MAX_AGE=31536000
HSTS_INCLUDE_SUBDOMAINS=true
HSTS_PRELOAD=true

# Request Validation
MAX_CONTENT_LENGTH=16777216
VALIDATE_CONTENT_TYPE=true

# ═════════════════════════════════════════════════════════════════════
# MONITORING & LOGGING
# ═════════════════════════════════════════════════════════════════════

# Security Audit Logging
SECURITY_AUDIT_LOG=logs/security_audit.log
SECURITY_AUDIT_LEVEL=INFO

# Sentry (OPTIONAL - for error tracking)
SENTRY_DSN=
SENTRY_ENVIRONMENT=production
SENTRY_TRACES_SAMPLE_RATE=0.1

# Datadog (OPTIONAL)
DATADOG_API_KEY=
DATADOG_APP_KEY=
DATADOG_SITE=datadoghq.com

# Prometheus (OPTIONAL)
PROMETHEUS_PORT=9090
PROMETHEUS_ENABLED=false

# Logging Configuration
LOG_LEVEL=INFO
LOG_FORMAT=json
LOG_FILE=logs/botv2.log
LOG_MAX_BYTES=10485760
LOG_BACKUP_COUNT=5

# ═════════════════════════════════════════════════════════════════════
# APPLICATION SETTINGS
# ═════════════════════════════════════════════════════════════════════

# Initial Capital (in EUR)
INITIAL_CAPITAL=3000

# Trading Interval (seconds)
TRADING_INTERVAL=60

# Flask/Dashboard Settings
FLASK_APP=src.dashboard.web_app

# ═════════════════════════════════════════════════════════════════════
# EXTERNAL SERVICES (OPTIONAL)
# ═════════════════════════════════════════════════════════════════════

# OpenAI API (OPTIONAL)
OPENAI_API_KEY=
OPENAI_MODEL=gpt-4

# Twitter API (OPTIONAL)
TWITTER_API_KEY=
TWITTER_API_SECRET=
TWITTER_BEARER_TOKEN=

# CoinGecko API (OPTIONAL)
COINGECKO_API_KEY=

# Alpha Vantage (OPTIONAL)
ALPHA_VANTAGE_API_KEY=

# ═════════════════════════════════════════════════════════════════════
# ADVANCED CONFIGURATION
# ═════════════════════════════════════════════════════════════════════

# Cache Settings
CACHE_ENABLED=true
CACHE_TTL=300

# Backtesting
BACKTEST_START_DATE=2023-01-01
BACKTEST_END_DATE=2025-12-31

# ═════════════════════════════════════════════════════════════════════
# QUICK REFERENCE: REQUIRED VARIABLES BY MODE
# ═════════════════════════════════════════════════════════════════════
#
# DEVELOPMENT (minimal):
#   ✓ SECRET_KEY (min 16 chars)
#   ○ DASHBOARD_USERNAME (optional, defaults to 'admin')
#   ○ DASHBOARD_PASSWORD (optional, defaults to 'admin')
#
# STAGING:
#   ✓ SECRET_KEY (min 32 chars)
#   ✓ POSTGRES_HOST, POSTGRES_PASSWORD
#   ✓ POLYMARKET_API_KEY, POLYMARKET_API_SECRET
#   ✓ DASHBOARD_PASSWORD (min 12 chars)
#
# PRODUCTION:
#   ✓ All of STAGING plus:
#   ✓ FORCE_HTTPS=true
#   ✓ Strong passwords (no placeholders)
#   ✓ SENTRY_DSN (recommended)
#
# ═════════════════════════════════════════════════════════════════════
# SECURITY REMINDERS
# ═════════════════════════════════════════════════════════════════════
#
# 1. NEVER commit .env to git (already in .gitignore)
# 2. Use strong passwords in production
# 3. Rotate secrets regularly (every 90 days)
# 4. Use different credentials for dev/staging/production
# 5. Enable 2FA on all exchange accounts
# 6. Store backups of credentials securely
#
# ═════════════════════════════════════════════════════════════════════
# END OF FILE
# ═════════════════════════════════════════════════════════════════════
